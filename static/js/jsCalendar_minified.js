var today=new Date();var dd=today.getDate();var mm=today.getMonth()+1;var yyyy=today.getFullYear();dd<10&&(dd='0'+dd),mm<10&&(mm='0'+mm),today=dd+'/'+mm+'/'+yyyy,console.log('today : '+today);var jsCalendar=function(b){function a(){if(arguments.length===0)return;this._construct(arguments);}return a.version='v1.4.3',a.prototype._construct=function(a){a=this._parseArguments(a),this._init(a.options),this._setTarget(a.target),this._initTarget(),this._setDate(a.date),this._create(),this._update();},a.prototype.languages={en:{months:['Janvier','Février','Mars','Avril','Mai','Juin','Juillet','Août','Septembre','Octobre','Novembre','Decembre'],days:['Dimanche','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi'],_dateStringParser:function(b,c){return a._defaultDateStringParser(b,c,this);},_dayStringParser:function(b,c){return a._defaultDayStringParser(b,c,this);}}},a.prototype._init=function(a){this._elements={},this._events={},this._events.date=[],this._events.month=[],this._now=null,this._date=null,this._selected=[],this._selected_green=[],this.language={},this._parseOptions(a);},a.prototype._parseArguments=function(a){var b={target:null,date:new Date(),options:{}};if(a.length===0)throw new Error('jsCalendar: No parameters were given.');if(a.length===1)if((typeof HTMLElement==='object'?a[0]instanceof HTMLElement:a[0])&&typeof a[0]==='object'&&a[0]!==null&&a[0].nodeType===1&&typeof a[0].nodeName==='string'||typeof a[0]==='string')b.target=a[0];else{if(b.options=a[0],!(a[0].target!==void 0))throw new Error('jsCalendar: Not target was given.');b.target=a[0].target,a[0].date!==void 0&&(b.date=a[0].date);}else b.target=a[0],a.length>=2&&(b.date=a[1]),a.length>=3&&(b.options=a[2]);return b;},a.prototype._parseOptions=function(a){this._options={language:'en',zeroFill:!1,monthFormat:'month',dayFormat:'DDD',firstDayOfTheWeek:2,navigator:!0,navigatorPosition:'both',min:!1,max:!1},a.zeroFill!==void 0&&(a.zeroFill==='false'||!a.zeroFill?this._options.zeroFill=!1:this._options.zeroFill=!0),a.monthFormat!==void 0&&(this._options.monthFormat=a.monthFormat),a.dayFormat!==void 0&&(this._options.dayFormat=a.dayFormat),a.navigator!==void 0&&(a.navigator==='false'||!a.navigator?this._options.navigator=!1:this._options.navigator=!0),a.navigatorPosition!==void 0&&(this._options.navigatorPosition=a.navigatorPosition),typeof a.language==='string'&&this.languages[a.language]!==void 0&&(this._options.language=a.language),this.setLanguage(this._options.language),a.fdotw!==void 0&&(a.firstDayOfTheWeek=a.fdotw),a.firstDayOfTheWeek!==void 0&&(typeof a.firstDayOfTheWeek==='number'&&a.firstDayOfTheWeek>=1&&a.firstDayOfTheWeek<=7&&(this._options.firstDayOfTheWeek=a.firstDayOfTheWeek),typeof a.firstDayOfTheWeek==='string'&&(a.firstDayOfTheWeek.match(/^[1-7]$/)?this._options.firstDayOfTheWeek=parseInt(a.firstDayOfTheWeek,10):(this._options.firstDayOfTheWeek=this.language.days.indexOf(a.firstDayOfTheWeek)+1,(this._options.firstDayOfTheWeek<1||this._options.firstDayOfTheWeek>7)&&(this._options.firstDayOfTheWeek=1)))),a.min!==void 0&&a.min!=='false'&&a.min!==!1&&(this._options.min=this._parseDate(today)),a.max!==void 0&&a.max!=='false'&&a.max!==!1&&(this._options.max=this._parseDate(a.max));},a.prototype._setTarget=function(c){var a=this._getElement(c);if(!a)throw new Error('jsCalendar: Target was not found.');this._target=a,this._target_id=this._target.id,this._target_id&&this._target_id.length>0&&(b['#'+this._target_id]=this);},a.prototype._getElement=function(a){if(!a)return null;if(typeof a==='string'){if(a[0]==='#')return document.getElementById(a.substring(1));else if(a[0]==='.')return document.getElementsByClassName(a.substring(1))[0];}else if(a.tagName&&a.nodeName&&a.ownerDocument&&a.removeAttribute)return a;return null;},a.prototype._initTarget=function(){this._target.className.length>0&&(this._target.className+=' '),this._target.className+='jsCalendar material-theme',this._elements.table=document.createElement('table'),this._elements.head=document.createElement('thead'),this._elements.table.appendChild(this._elements.head),this._elements.body=document.createElement('tbody'),this._elements.table.appendChild(this._elements.body),this._target.appendChild(this._elements.table);},a.prototype._isDateInRange=function(a){return this._options.min===!1&&this._options.max===!1?!0:(a=this._parseDate(a),this._options.min!==!1&&this._options.min.getTime()>a.getTime()?!1:this._options.max!==!1&&this._options.max.getTime()<a.getTime()?!1:!0);},a.prototype._setDate=function(a){if(!this._isDateInRange(a))return;this._now=this._parseDate(a),this._date=new Date(this._now.getFullYear(),this._now.getMonth(),1);},a.prototype._parseDate=function(a){if(a===void 0||a===null||a==='now')a=new Date();else if(typeof a==='string'){if(a=a.replace(/-/g,'/').match(/^(\d{1,2})\/(\d{1,2})\/(\d{4,4})$/i),!(a!==null))throw new Error('jsCalendar: Failed to parse date.');var b=parseInt(a[2],10)-1;if(a=new Date(a[3],b,a[1]),!a||a.getMonth()!==b)throw new Error('jsCalendar: Date does not exist.');}else if(typeof a==='number')a=new Date(a);else if(!(a instanceof Date))throw new Error('jsCalendar: Invalid date.');return new Date(a.getTime());},a.prototype._parseToDateString=function(b,c){var a=this.language;return c.replace(/(MONTH|month|MMM|mmm|mm|m|MM|M|DAY|day|DDD|ddd|dd|d|DD|D|YYYY|yyyy)/g,function(c){return a.dateStringParser(c,b);});},a.prototype._getVisibleMonth=function(b){b===void 0?b=this._date:b=this._parseDate(b);var a=new Date(b.getTime());a.setDate(1);var c=a.getDay()-(this._options.firstDayOfTheWeek-1);c<0&&(c+=7);var e=this.language;var f=this._options.monthFormat.replace(/(MONTH|month|MMM|mmm|##|#|YYYY|yyyy)/g,function(b){return e.dateStringParser(b,a);});var g=this._getVisibleDates(b);var h=new Date(a.getYear()+1900,a.getMonth()+1,0).getDate();var d=-1;return a.getYear()===this._now.getYear()&&a.getMonth()===this._now.getMonth()&&(d=c+this._now.getDate()-1),{name:f,days:g,start:c+1,current:d,end:c+h};},a.prototype._getVisibleDates=function(d){d===void 0?d=this._date:d=this._parseDate(d);var b=[];var c=new Date(d.getTime());c.setDate(1),c.setHours(0,0,0,0);var e=c.getDay()-(this._options.firstDayOfTheWeek-1);e<0&&(e+=7);var a=new Date(c.getTime());while(e>0)a.setDate(a.getDate()-1),b.unshift(new Date(a.getTime())),e--;a=new Date(c.getTime());do b.push(new Date(a.getTime())),a.setDate(a.getDate()+1);while(a.getDate()!==1);var f=42-b.length;while(f>0)b.push(new Date(a.getTime())),a.setDate(a.getDate()+1),f--;return b;},a.prototype._create=function(){var a,d;var b=this;for(this._elements.created=!0,this._elements.headRows=[],a=0;a<2;a++)this._elements.headRows.push(document.createElement('tr')),this._elements.head.appendChild(this._elements.headRows[a]);var c=document.createElement('th');c.setAttribute('colspan',7),this._elements.headRows[0].className='jsCalendar-title-row',this._elements.headRows[0].appendChild(c),this._elements.headLeft=document.createElement('div'),this._elements.headLeft.className='jsCalendar-title-left',c.appendChild(this._elements.headLeft),this._elements.month=document.createElement('div'),this._elements.month.className='jsCalendar-title-name',c.appendChild(this._elements.month),this._elements.headRight=document.createElement('div'),this._elements.headRight.className='jsCalendar-title-right',c.appendChild(this._elements.headRight),this._options.navigator&&(this._elements.navLeft=document.createElement('div'),this._elements.navLeft.className='jsCalendar-nav-left',this._elements.navRight=document.createElement('div'),this._elements.navRight.className='jsCalendar-nav-right',this._options.navigatorPosition==='left'?(this._elements.headLeft.appendChild(this._elements.navLeft),this._elements.headLeft.appendChild(this._elements.navRight)):this._options.navigatorPosition==='right'?(this._elements.headRight.appendChild(this._elements.navLeft),this._elements.headRight.appendChild(this._elements.navRight)):(this._elements.headLeft.appendChild(this._elements.navLeft),this._elements.headRight.appendChild(this._elements.navRight)),this._elements.navLeft.addEventListener('click',function(a){b.previous(),b._eventFire_monthChange(a,b._date);},!1),this._elements.navRight.addEventListener('click',function(a){b.next(),b._eventFire_monthChange(a,b._date);},!1)),this._elements.headRows[1].className='jsCalendar-week-days',c.className='jsCalendar-title',this._elements.days=[];var e,f,g=this.language;for(a=0;a<7;a++)this._elements.days.push(document.createElement('th')),this._elements.headRows[1].appendChild(this._elements.days[this._elements.days.length-1]),f=(a+this._options.firstDayOfTheWeek-1)%7,e=this._options.dayFormat.replace(/(DAY|day|DDD|ddd|DD|dd|D)/g,function(a){return g.dayStringParser(a,f);}),this._elements.days[this._elements.days.length-1].textContent=e;for(this._elements.bodyRows=[],this._elements.bodyCols=[],a=0;a<6;a++)for(this._elements.bodyRows.push(document.createElement('tr')),this._elements.body.appendChild(this._elements.bodyRows[a]),d=0;d<7;d++)this._elements.bodyCols.push(document.createElement('td')),this._elements.bodyRows[a].appendChild(this._elements.bodyCols[a*7+d]),this._elements.bodyCols[a*7+d].addEventListener('click',function(a){return function(c){b._eventFire_dateClick(c,b._active[a]);};}(a*7+d),!1);},a.prototype._selectDates=function(b){b=b.slice();for(var a=0;a<b.length;a++)b[a]=this._parseDate(b[a]),b[a].setHours(0,0,0,0),b[a]=b[a].getTime();for(a=b.length-1;a>=0;a--)this._selected.indexOf(b[a])<0&&this._selected.push(b[a]);},a.prototype._selectDates_green=function(b){b=b.slice();for(var a=0;a<b.length;a++)b[a]=this._parseDate(b[a]),b[a].setHours(0,0,0,0),b[a]=b[a].getTime();for(a=b.length-1;a>=0;a--)this._selected_green.indexOf(b[a])<0&&this._selected_green.push(b[a]);},a.prototype._unselectDates=function(b){b=b.slice();for(var a=0;a<b.length;a++)b[a]=this._parseDate(b[a]),b[a].setHours(0,0,0,0),b[a]=b[a].getTime();var c;for(a=b.length-1;a>=0;a--)c=this._selected.indexOf(b[a]),c>=0&&this._selected.splice(c,1);},a.prototype._unselectDates_green=function(b){b=b.slice();for(var a=0;a<b.length;a++)b[a]=this._parseDate(b[a]),b[a].setHours(0,0,0,0),b[a]=b[a].getTime();var c;for(a=b.length-1;a>=0;a--)c=this._selected_green.indexOf(b[a]),c>=0&&this._selected_green.splice(c,1);},a.prototype._unselectAllDates=function(){while(this._selected.length)this._selected.pop();},a.prototype._update=function(){var b=this._getVisibleMonth(this._date);this._active=b.days.slice(),this._elements.month.textContent=b.name;var d='';this._options.zeroFill&&(d='0');var c;for(var a=b.days.length-1;a>=0;a--)c=b.days[a].getDate(),this._elements.bodyCols[a].textContent=c<10?d+c:c,this._selected.indexOf(b.days[a].getTime())>=0?this._elements.bodyCols[a].className='jsCalendar-selected':this._elements.bodyCols[a].removeAttribute('class');for(var a=b.days.length-1;a>=0;a--)c=b.days[a].getDate(),this._elements.bodyCols[a].textContent=c<10?d+c:c,this._selected_green.indexOf(b.days[a].getTime())>=0&&this._elements.bodyCols[a].className!='jsCalendar-selected'&&(this._elements.bodyCols[a].className='jsCalendar-selected-green');for(a=0;a<b.start-1;a++)this._elements.bodyCols[a].className='jsCalendar-previous';for(b.current>=0&&(this._elements.bodyCols[b.current].className.length>0?this._elements.bodyCols[b.current].className+=' jsCalendar-current':this._elements.bodyCols[b.current].className='jsCalendar-current'),a=b.end;a<b.days.length;a++)this._elements.bodyCols[a].className='jsCalendar-next';},a.prototype._eventFire_dateClick=function(b,c){for(var a=0;a<this._events.date.length;a++)(function(a){setTimeout(function(){a(b,new Date(c.getTime()));},0);}(this._events.date[a]));},a.prototype._eventFire_monthChange=function(c,d){var b=new Date(d.getTime());b.setDate(1);for(var a=0;a<this._events.month.length;a++)(function(a){setTimeout(function(){a(c,new Date(b.getTime()));},0);}(this._events.month[a]));},a.prototype.onDateClick=function(a){if(!(typeof a==='function'))throw new Error('jsCalendar: Invalid callback function.');return this._events.date.push(a),this;},a.prototype.onMonthChange=function(a){if(!(typeof a==='function'))throw new Error('jsCalendar: Invalid callback function.');return this._events.month.push(a),this;},a.prototype.set=function(a){return this._setDate(a),this.refresh(),this;},a.prototype.min=function(a){return a?this._options.min=this._parseDate(a):this._options.min=!1,this.refresh(),this;},a.prototype.max=function(a){return a?this._options.max=this._parseDate(a):this._options.max=!1,this.refresh(),this;},a.prototype.refresh=function(a){return a!==void 0&&this._isDateInRange(a)&&(this._date=this._parseDate(a)),this._elements.created===!0&&this._update(),this;},a.prototype.next=function(a){typeof a!=='number'&&(a=1);var b=new Date(this._date.getFullYear(),this._date.getMonth()+a,1);return this._isDateInRange(b)?(this._date=b,this.refresh(),this):this;},a.prototype.previous=function(a){typeof a!=='number'&&(a=1);var b=new Date(this._date.getFullYear(),this._date.getMonth()-a,1);return this._isDateInRange(b)?(this._date=b,this.refresh(),this):this;},a.prototype.goto=function(a){return this.refresh(a),this;},a.prototype.reset=function(){return this.refresh(this._now),this;},a.prototype.select=function(a){return a===void 0?this:(a instanceof Array||(a=[a]),this._selectDates(a),this.refresh(),this);},a.prototype.select_green=function(a){return a===void 0?this:(a instanceof Array||(a=[a]),this._selectDates_green(a),this.refresh(),this);},a.prototype.unselect=function(a){return a===void 0?this:(a instanceof Array||(a=[a]),this._unselectDates(a),this.refresh(),this);},a.prototype.unselect_green=function(a){return a===void 0?this:(a instanceof Array||(a=[a]),this._unselectDates_green(a),this.refresh(),this);},a.prototype.clearselect=function(){return this._unselectAllDates(),this.refresh(),this;},a.prototype.clearSelected=a.prototype.clearselect,a.prototype.getSelected=function(a){typeof a!=='object'&&(a={});var b=this._selected.slice();if(a.sort&&(a.sort===!0?b.sort():typeof a.sort==='string'&&(a.sort.toLowerCase()==='asc'?b.sort():a.sort.toLowerCase()==='desc'&&(b.sort(),b.reverse()))),a.type&&typeof a.type==='string'){var c;if(a.type.toLowerCase()==='date')for(c=b.length-1;c>=0;c--)b[c]=new Date(b[c]);else if(a.type.toLowerCase()!=='timestamp')for(c=b.length-1;c>=0;c--)b[c]=this._parseToDateString(new Date(b[c]),a.type);}return b;},a.prototype.getSelected_green=function(a){typeof a!=='object'&&(a={});var b=this._selected_green.slice();if(a.sort&&(a.sort===!0?b.sort():typeof a.sort==='string'&&(a.sort.toLowerCase()==='asc'?b.sort():a.sort.toLowerCase()==='desc'&&(b.sort(),b.reverse()))),a.type&&typeof a.type==='string'){var c;if(a.type.toLowerCase()==='date')for(c=b.length-1;c>=0;c--)b[c]=new Date(b[c]);else if(a.type.toLowerCase()!=='timestamp')for(c=b.length-1;c>=0;c--)b[c]=this._parseToDateString(new Date(b[c]),a.type);}return b;},a.prototype.isSelected=function(a){return a===void 0||a===null?!1:(a=this._parseDate(a),a.setHours(0,0,0,0),a=a.getTime(),this._selected.indexOf(a)>=0?!0:!1);},a.prototype.isSelected_green=function(a){return a===void 0||a===null?!1:(a=this._parseDate(a),a.setHours(0,0,0,0),a=a.getTime(),this._selected_green.indexOf(a)>=0?!0:!1);},a.prototype.isVisible=function(a){if(a===void 0||a===null)return!1;a=this._parseDate(a),a.setHours(0,0,0,0),a=a.getTime();var b=this._getVisibleDates();return b[0].getTime()<=a&&b[b.length-1].getTime()>=a?!0:!1;},a.prototype.isInMonth=function(c){if(c===void 0||c===null)return!1;var a=this._parseDate(c);a.setHours(0,0,0,0),a.setDate(1);var b=this._parseDate(this._date);return b.setHours(0,0,0,0),b.setDate(1),a.getTime()===b.getTime()?!0:!1;},a.prototype.setLanguage=function(b){if(typeof b!=='string')throw new Error('jsCalendar: Invalid language code.');if(this.languages[b]===void 0)throw new Error('jsCalendar: Language not found.');this._options.language=b;var a=this.languages[b];return this.language.months=a.months,this.language.days=a.days,this.language.dateStringParser=a._dateStringParser,this.language.dayStringParser=a._dayStringParser,this.refresh(),this;},a.autoFind=function(){var b=document.getElementsByClassName('auto-jsCalendar');var c;for(var a=0;a<b.length;a++)if(b[a].getAttribute('jsCalendar-loaded')!=='true'){b[a].setAttribute('jsCalendar-loaded','true'),c={};for(var d in b[a].dataset)c[d]=b[a].dataset[d];c.target=b[a],new jsCalendar(c);}},a.tools={},a.tools.parseDate=function(){return a.prototype._parseDate.apply({},arguments);},a.tools.stringToDate=a.tools.parseDate,a.tools.dateToString=function(d,e,b){var c=a.prototype.languages;return b&&c.hasOwnProperty(b)||(b='en'),a.prototype._parseToDateString.apply({language:{months:c[b].months,days:c[b].days,dateStringParser:c[b]._dateStringParser,dayStringParser:c[b]._dayStringParser}},[d,e]);},a.new=function(){var b=new a();return b._construct(arguments),b;},b={},a.set=function(c,a){if(a instanceof jsCalendar)return b[c]=a,!0;throw new Error('jsCalendar: The second parameter is not a jsCalendar.');},a.get=function(a){return b.hasOwnProperty(a)?b[a]:null;},a.del=function(a){return b.hasOwnProperty(a)?(delete b[a],!0):!1;},a.addLanguage=function(b){if(b===void 0)throw new Error('jsCalendar: No language object was given.');if(typeof b.code!=='string')throw new Error('jsCalendar: Invalid language code.');if(!(b.months instanceof Array))throw new Error('jsCalendar: Invalid language months.');if(b.months.length!==12)throw new Error('jsCalendar: Invalid language months length.');if(!(b.days instanceof Array))throw new Error('jsCalendar: Invalid language days.');if(b.days.length!==7)throw new Error('jsCalendar: Invalid language days length.');a.prototype.languages[b.code]=b,b._dateStringParser=b.hasOwnProperty('dateStringParser')?function(c,d){return b.dateStringParser(c,d)||a._defaultDateStringParser(c,d,b);}:function(c,d){return a._defaultDateStringParser(c,d,b);},b._dayStringParser=b.hasOwnProperty('dayStringParser')?function(c,d){return b.dayStringParser(c,d)||a._defaultDayStringParser(c,d,b);}:function(c,d){return a._defaultDayStringParser(c,d,b);};},a._defaultDateStringParser=function(c,a,b){switch(c){case'MONTH':case'month':return b.months[a.getMonth()];case'MMM':case'mmm':return b.months[a.getMonth()].substring(0,3);case'mm':return b.months[a.getMonth()].substring(0,2);case'm':return b.months[a.getMonth()].substring(0,1);case'MM':return(a.getMonth()<9?'0':'')+(a.getMonth()+1);case'M':return a.getMonth()+1;case'##':return(a.getMonth()<9?'0':'')+(a.getMonth()+1);case'#':return a.getMonth()+1;case'DAY':case'day':return b.days[a.getDay()];case'DDD':case'ddd':return b.days[a.getDay()].substring(0,3);case'dd':return b.days[a.getDay()].substring(0,2);case'd':return b.days[a.getDay()].substring(0,1);case'DD':return(a.getDate()<=9?'0':'')+a.getDate();case'D':return a.getDate();case'YYYY':case'yyyy':return a.getYear()+1900;}},a._defaultDayStringParser=function(c,a,b){switch(c){case'DAY':case'day':return b.days[a];case'DDD':case'ddd':return b.days[a].substring(0,3);case'DD':case'dd':return b.days[a].substring(0,2);case'D':return b.days[a].substring(0,1);}},function(){if(window.jsCalendar_language2load!==void 0){while(window.jsCalendar_language2load.length)setTimeout(function(b){return function(){a.addLanguage(b);};}(window.jsCalendar_language2load.pop()),0);delete window.jsCalendar_language2load;}}(),a;}();(function(){window.addEventListener('load',function(){jsCalendar.autoFind();},!1);}());